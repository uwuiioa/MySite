<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>üíï –•–∏—Ö–∏ üíï</title>
<link rel="stylesheet" href="css/style.css" />

<script>
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏ "–ù–µ—Ç"
    function pryg_skok() {
        const btn = document.getElementById("knopka");
        const maxWidth = window.innerWidth - btn.offsetWidth;
        const maxHeight = window.innerHeight - btn.offsetHeight;

    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
    let randLeft = Math.random() * maxWidth;
    let randTop = Math.random() * maxHeight;

    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ –Ω–µ –≤—ã—à–ª–∞ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã
    randLeft = Math.max(0, Math.min(randLeft, maxWidth));
    randTop = Math.max(0, Math.min(randTop, maxHeight));

    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é
    btn.style.position = 'absolute'; // —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ
    btn.style.left = randLeft + "px";
    btn.style.top = randTop + "px";
    }

    // –†–∞–±–æ—Ç–∞ —Å –º—É–∑—ã–∫–æ–π
    function setupMusic() {
        const music = document.getElementById('backgroundMusic');

        music.volume = 0.2;

        const isMusicPlaying = localStorage.getItem('musicPlaying') === 'true';
        const musicCurrentTime = localStorage.getItem('musicCurrentTime') || 0;

        if (isMusicPlaying) {
            music.currentTime = parseFloat(musicCurrentTime);
            music.play();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
        music.addEventListener('play', () => {
            localStorage.setItem('musicPlaying', 'true');
        });
        music.addEventListener('pause', () => {
            localStorage.setItem('musicPlaying', 'false');
        });

        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Ä–µ–º—è
        setInterval(() => {
            localStorage.setItem('musicCurrentTime', music.currentTime);
        }, 1000);

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∫–ª–∏–∫–µ
        document.addEventListener('click', function startMusic() {
            music.play().catch(error => {
                console.log('Autoplay prevented', error);
            });
            document.removeEventListener('click', startMusic);
        });
    }

    document.addEventListener('DOMContentLoaded', setupMusic);
</script>

</head>
<body>
    <!-- –§–æ–Ω -->
    <div class="wallpaper"></div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="content">
        <h1>–¢—ã –±—É–¥–µ—à—å –º–æ–µ–π –∂–µ–Ω–æ–π?</h1>
        <p>–¢—Å—Å...–º–æ–∂–µ—à—å –Ω–∞–∂–∞—Ç—å –Ω–∞ –ª—é–±–æ–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã</p>
        <img src="https://tenor.com/ru/view/saenai-heroine-no-sodatekata-saekano-eriri-spencer-sawamura-blush-anime-gif-24112466.gif" alt="—è –¥–∂–∏—Ñ–∫–∞" class="gif-image">
        <div class="buttons">
            <a href="index2.html" class="yes-button">–î–∞</a>
            <input type="button" id="knopka" value="–ù–µ—Ç" class="yes-button" onMouseOver="pryg_skok()" onClick="alert('–í–∞—É, —Ç—ã –≤—Å–µ-—Ç–∞–∫–∏ –Ω–∞–∂–∞–ª!!!')">
        </div>
    </div>

    <!-- –ú—É–∑—ã–∫–∞ -->
    <audio id="backgroundMusic" loop>
        <source src="assets/2hollis.mp3" type="audio/mpeg" />
        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ.
    </audio>
</body>
</html>